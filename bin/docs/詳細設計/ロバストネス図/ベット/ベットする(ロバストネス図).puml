@startuml

actor ユーザー

boundary ポーカースタート画面
boundary ポーカープレイ画面
control 所持金情報を取得する
control ポーカープレイ画面を表示する
control 未入力チェックを実施
control 0円チェックを実施
control 数字以外入力されてないかのパターンチェックを実施
control 所持金チェックを実施
control 勝敗に応じて所持金情報を更新する
control 保存する
control 勝敗結果と勝負後の所持金とボタン群を表示する
control 勝負を降りた旨を伝えるメッセージとボタン群を表示する
control ポーカースタート画面にエラーを表示する
control ポーカープレイ画面にエラーを表示する
entity 所持金情報


'基本コース
ポーカースタート画面 -right-> 所持金情報を取得する: ポーカースタート画面にある\n「START」ボタンをクリックをクリック
所持金情報を取得する --> ポーカープレイ画面を表示する
ポーカープレイ画面を表示する -right-> ポーカープレイ画面
ポーカープレイ画面 -down-> ユーザー
ユーザー --> 未入力チェックを実施 : ベット金額を指定して、「ベット」ボタンをクリック
未入力チェックを実施 --> 0円チェックを実施
0円チェックを実施 --> 数字以外入力されてないかのパターンチェックを実施
数字以外入力されてないかのパターンチェックを実施 --> 所持金チェックを実施
所持金チェックを実施 --> 勝敗に応じて所持金情報を更新する : ポーカーの手札交換後に「勝負する」ボタンをクリック
勝敗に応じて所持金情報を更新する --> 保存する
保存する --> 勝敗結果と勝負後の所持金とボタン群を表示する
勝敗結果と勝負後の所持金とボタン群を表示する --> ポーカープレイ画面
note right of 勝敗結果と勝負後の所持金とボタン群を表示する : 「もう一度」ボタンと「スタートに戻る」ボタンのことです。\nこの図だと、controlに「」が使えないため、書きっぷりを変えてます。

所持金情報を取得する -down- 所持金情報
勝敗に応じて所持金情報を更新する -- 所持金情報
保存する -- 所持金情報

'代替コース
未入力チェックを実施 --> ポーカープレイ画面にエラーを表示する : ベット金額が未入力の場合
0円チェックを実施 --> ポーカープレイ画面にエラーを表示する : ベット金額が0円の場合
数字以外入力されてないかのパターンチェックを実施 --> ポーカープレイ画面にエラーを表示する : ベット金額に数字以外が入力されていた場合
所持金チェックを実施 --> ポーカープレイ画面にエラーを表示する : ベット金額が所持金\nより大きい値の場合
所持金チェックを実施 --> 勝負を降りた旨を伝えるメッセージとボタン群を表示する : ポーカーの手札交換後に「勝負しない」ボタンをクリック
勝負を降りた旨を伝えるメッセージとボタン群を表示する --> ポーカープレイ画面

ポーカースタート画面にエラーを表示する --> ポーカースタート画面
ポーカープレイ画面にエラーを表示する --> ポーカープレイ画面

@enduml